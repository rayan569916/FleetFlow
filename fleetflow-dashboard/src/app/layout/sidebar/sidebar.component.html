<aside class="sidebar" [class.expanded]="expanded()">
  <div class="flex min-h-20 items-center gap-4 border-b border-white/10 px-6 sidebar-header">
    <div
      class="flex h-10 w-10 items-center justify-center rounded-xl bg-white/10 text-sm font-semibold text-amber-300 brand-pill"
      >
      <button type="button"
        class="flex h-10 w-10 flex-col items-center justify-center gap-1 rounded-xl border-0 bg-violet-600/10 p-2 transition-colors duration-200 hover:bg-violet-600/20 hamburger-btn"
         aria-label="Toggle sidebar" (click)="toggleSidebar()">
        <span class="block h-0.5 w-5 rounded bg-amber-400"></span>
        <span class="block h-0.5 w-5 rounded bg-amber-400"></span>
        <span class="block h-0.5 w-5 rounded bg-amber-400"></span>
      </button>
    </div>
    <span
      class="whitespace-nowrap text-xl font-bold text-white transition-opacity duration-300 sidebar-logo">FleetFlow</span>
  </div>

  <nav class="flex flex-1 flex-col py-6 sidebar-nav" aria-label="Main navigation">
    @for (item of items; track trackById($index)) {
    <a class="nav-item flex items-center gap-4 px-6 py-4 text-white/80 transition-all duration-300"
      [class.active]="item.active" [routerLink]="item.route || '#'" [attr.href]="item.route === '#' ? '#' : null">
      <span class="h-6 w-6 shrink-0 text-amber-300 nav-icon">
        @switch (item.icon) {
        @case ('grid') {
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="h-6 w-6">
          <rect x="3" y="3" width="7" height="7"></rect>
          <rect x="14" y="3" width="7" height="7"></rect>
          <rect x="14" y="14" width="7" height="7"></rect>
          <rect x="3" y="14" width="7" height="7"></rect>
        </svg>
        }
        @case ('users') {
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="h-6 w-6">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </svg>
        }
        @case ('file') {
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="h-6 w-6">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        }
        @case ('income') {
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="h-6 w-6">
          <line x1="12" y1="1" x2="12" y2="23"></line>
          <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
        </svg>
        }
        @case ('settings') {
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="h-6 w-6">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M12 1v6m0 6v6m5.2-14.8l-4.2 4.2m0 5.2l4.2 4.2M23 12h-6m-6 0H1m14.8 5.2l-4.2-4.2m0-5.2l-4.2-4.2">
          </path>
        </svg>
        }
        @default {
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="h-6 w-6">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
        }
        }
      </span>
      <span class="whitespace-nowrap font-medium transition-opacity duration-300 nav-text">{{ item.label }}</span>
    </a>
    }
  </nav>
</aside>